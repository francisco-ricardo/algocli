# ABSTRACT: Compilation and test targets for Adjacency List Graph
#
# This Makefile defines the targets to compile, build, and test an
# implementation of an Adjacency List Graph in Java.
#
# Available targets:
# - all: Default target, runs the `run` target to build and execute the project.
# - build: Cleans the workspace and compiles the Java classes.
# - clean: Removes compiled files and cleans the workspace.
# - compile: Compiles the Java classes without cleaning the workspace.
# - run: Builds the project and runs a test program (Main.java).
# - help: Displays the available targets in this Makefile.

.PHONY: all build compile clean run help

# target: all - Default target that builds and runs the test program.
# This target will first ensure that the project is compiled and up to date
# by calling the `build` target, then it runs the main program.
all: run

# target: run - Compiles and runs the main program.
# This target first calls the `build` target, ensuring the code is compiled,
# and then runs the Java program `Main.java`.
run: build
	java Main.java

# target: build - Cleans and compiles the project.
# This target ensures a fresh build by cleaning the workspace and then 
# compiling all necessary Java classes.
build: clean compile

# target: clean - Removes generated files.
# This target deletes all class files generated by previous compilations,
# ensuring no outdated or conflicting class files remain.
clean:
	rm -f ./Main.class
	rm -f ../../lib/graph/adjlist/Edge.class
	rm -f ../../lib/graph/adjlist/Graph.class
	rm -f ../../lib/graph/adjlist/Node.class

# target: compile - Compiles Java classes.
# This target compiles all the necessary Java classes. It is a standalone 
# compile step that can be called after modifying any source files without
# performing a full clean.
compile: 
	javac Main.java

# target: help - Shows available targets.
# This target extracts the list of available targets from this Makefile 
# by searching for lines starting with '# target:', making it easier 
# for users to see the available commands.
help:
	@egrep "^# target:" [Mm]akefile

# EOF
